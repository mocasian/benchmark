<script>
  const game = document.getElementById('game');
  const input = document.getElementById('input');
  const submit = document.getElementById('submit');
  const numberDisplay = document.getElementById('number');
  const levelDisplay = document.getElementById('level');
  const bestDisplay = document.createElement('div');

  document.body.appendChild(bestDisplay);

  let level = 1;
  let number = '';

  function updateBest(level) {
    let best = localStorage.getItem('numberMemoryBest') || 0;
    if (level > best) {
      localStorage.setItem('numberMemoryBest', level);
    }
    bestDisplay.textContent = `üèÜ Best Level: ${localStorage.getItem('numberMemoryBest')}`;
  }

  function generateNumber(length) {
    let result = '';
    for (let i = 0; i < length; i++) {
      result += Math.floor(Math.random() * 10);
    }
    return result;
  }

  function showNumber() {
    input.style.display = 'none';
    submit.style.display = 'none';
    number = generateNumber(level + 1);
    numberDisplay.textContent = number;
    setTimeout(() => {
      numberDisplay.textContent = '';
      input.value = '';
      input.style.display = 'inline-block';
      submit.style.display = 'inline-block';
      input.focus();
    }, 1000 + level * 250);
  }

  submit.addEventListener('click', () => {
    if (input.value === number) {
      level++;
      levelDisplay.textContent = `Level: ${level}`;
      updateBest(level);
      showNumber();
    } else {
      alert(`Game Over! Final level: ${level}`);
      level = 1;
      levelDisplay.textContent = `Level: ${level}`;
      updateBest(level);
      showNumber();
    }
  });

  updateBest(level);
  showNumber();
</script>
