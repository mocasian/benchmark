<script>
  const numberDisplay = document.getElementById('number');
  const input = document.getElementById('input');
  const submit = document.getElementById('submit');
  const levelDisplay = document.getElementById('level');

  let level = 1;
  let number = '';

  function updateBest(level) {
    const best = localStorage.getItem('numberMemoryBest') || 1;
    if (level > best) {
      localStorage.setItem('numberMemoryBest', level);
    }
    levelDisplay.textContent = `Level: ${level} ðŸ† Best: ${localStorage.getItem('numberMemoryBest')}`;
  }

  function generateNumber(length) {
    return Array.from({ length }, () => Math.floor(Math.random() * 10)).join('');
  }

  function showNumber() {
    input.style.display = 'none';
    submit.style.display = 'none';
    number = generateNumber(level + 1);
    numberDisplay.textContent = number;
    setTimeout(() => {
      numberDisplay.textContent = '';
      input.value = '';
      input.style.display = 'inline-block';
      submit.style.display = 'inline-block';
      input.focus();
    }, 1000 + level * 250);
  }

  function checkAnswer() {
    if (input.value === number) {
      level++;
    } else {
      alert(`Game over! You reached level ${level}`);
      level = 1;
    }
    updateBest(level);
    showNumber();
  }

  submit.addEventListener('click', checkAnswer);

  // âœ… Listen for Enter key
  input.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      checkAnswer();
    }
  });

  updateBest(level);
  showNumber();
</script>
